<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Boilerplate for polaris chip">
  <base href="/">

  <style>
    :root,
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #ededed;
    }
    polaris-chip {
      margin: 16px;
    }
  </style>
  <title>polaris-chip / my-card</title>
</head>

<body>
  <h1>polaris-chip</h1>
  <!-- this is going to do whatever the tag's defaults are -->
  <polaris-chip title="News" link = "https://psu.edu"></polaris-chip>
  <polaris-chip title="Faculty and Staff"></polaris-chip>
  <polaris-chip title="Sports"></polaris-chip>
  <!-- this is going to take the tag and change the title -->
  <polaris-chip title="Grants and Donations"></polaris-chip>
     
  <h1>my-card</h1>
  <div class="control-wrapper">

  <button class="duplicate">Clone Card</button>
  <button id="changetitle">Change Title</button>
  <button id="changeimage">Change Image</button>
  <button id="changebg">Change Background</button>
  <button id="delete">Delete Card</button>
  </div>
  <div class="wrapper">
  <my-card fancy title="This Dog" image="https://hips.hearstapps.com/hmg-prod/images/dog-puppy-on-garden-royalty-free-image-1586966191.jpg" para="This is an image of a dog in a field of flowers. I found it on the internet when I searched 'dog'." button="Hax Link" link="https://hax.psu.edu"></my-card>
  <my-card fancy title="Dog 2" image="https://www.southernliving.com/thmb/WHH7cdFT3YMJlJN4y7y3lsAKvJ8=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/gettyimages-114166947-1-268128f97e5c415baede328c1fe32f55.jpg" para="This is another image of a dog. This is my second dog card." button="Google" link="https://www.google.com"></my-card>
  <my-card fancy title="Third Dog" image="  https://www.thesprucepets.com/thmb/hxWjs7evF2hP1Fb1c1HAvRi_Rw0=/2765x0/filters:no_upscale():strip_icc()/chinese-dog-breeds-4797219-hero-2a1e9c5ed2c54d00aef75b05c5db399c.jpg" para="This dog is a pug I think. Very funny little guy. He's in the grass." button="Bing" link="https://www.bing.com"></my-card>
  <my-card fancy title="A Fourth Dog blah blah blah" image="https://cdn.britannica.com/16/234216-050-C66F8665/beagle-hound-dog.jpg" para="Dog number 4. This dog is a beagle, and I like her stance." button="Penn State" link="https://psu.edu"></my-card>
  <my-card fancy title="Final Dog" image="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRyw8RifeUCHV3yA53bQIPKdL1ZLJA4CRSVow&usqp=CAU" para="This dog is really scary. I hate it so much. Why is there no life behind its eyes?" button="Apple" link="https://www.apple.com"></my-card>
  <my-card fancy title="Fresh Prince" image="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRPgSRgEYJ3lY8Ky8wNqfoJqWe2U2VMe-RIKbO_0HSXGj5sHA-_"></my-card>
  </div>
  <!-- this is what is bringing in the definition for this tag -->
  <script type="module" src="./src/polaris-chip.js"></script>
  <script type="module" src="./src/my-card.js"></script>
  <script> 
  
  const myCard=document.querySelector("my-card"); 
  const shadowRoot=myCard.shadowRoot; 
  document.querySelector('.duplicate').addEventListener('click', function(event) {
    if (document.querySelectorAll("my-card").length < 10) {
      const newCard = document.querySelector("my-card").cloneNode(true);
      document.querySelector(".wrapper").appendChild(newCard); 
    }
  });
  
  document.querySelector('#changetitle').addEventListener('click', function(e) {
    const heading=shadowRoot.querySelector('.heading'); 
    heading.textContent="The Dog"; 
  })
  
  document.querySelector('#changeimage').addEventListener('click', function(e) {
    document.querySelector('.image').src = "https://hips.hearstapps.com/hmg-prod/images/worlds-smallest-dogs-1647336453.jpg"; 
  })
  
  document.querySelector('#changebg').addEventListener('click', function(e) {
    const link = document.querySelector("my-card"); 
    if (link.classList.contains('change-color')) {
        link.classList.remove('change-color');    
      }
      else {
        link.classList.add('change-color');      
      }
  })
  
  document.querySelector('#delete').addEventListener('click', function(e) {
    console.log(document.querySelectorAll("my-card").length); 
    if (document.querySelectorAll("my-card").length !== 1) {
      document.querySelector("my-card").remove(); 
    }
  })
  </script>

</body>

</html>